<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Release의 모든 것 서적정리 - Croot Blog</title>
  <meta name="description" content="Untitled.jpeg">
  <link href='https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:300,400,900,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/%EC%B7%A8%EB%AF%B8/2024/03/25/Release%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83-%EC%84%9C%EC%A0%81%EC%A0%95%EB%A6%AC/">
  <link rel="alternate" type="application/rss+xml" title="Croot Blog" href="http://localhost:4000/feed.xml">
</head>

  <body>
    <aside class="c-page__searchbox">
  <div class="search">
    <input id="search-input" 
      type="search" 
      tabindex="1" 
      spellcheck="false" 
      placeholder="검색어"
    />
  </div>

  <ul id="results-container"></ul>
</aside>

<script src="/assets//script/simple-jekyll-search.min.js"></script>
<script type="text/javascript">
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/assets/json/search.json',
    noResultText: '검색결과가 없습니다.',
    limit: 1000,
    fuzzy: false
  })
</script>

    <main class="u-container">
      <div class="c-page">
  <header class="c-page__header">
  <h1><code>Croot Blog</code></h1>
  
  <p>
    <a href="/">Home</a>
    <span class="u-separate"></span>
    <a href="/about/">About</a>
    <span class="u-separate"></span>
    <a href="/tech/">Tech</a>
    <span class="u-separate"></span>
    <a href="/hobby/">Hobby</a>
    <span class="u-separate"></span>
    <a href="/archive/">Archive</a>
  </p>
</header>

  <div class="c-page__main">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError : false
        });
    });
</script>

<div>

<div style="display:flex;flex-direction:row;background:#efefef;padding: 1.2em 1.5em;">
  <span style="width:70px;font-size:2.8em">⚠️</span>
  <p style="flex:1;font-size:1.2em;line-height: 1.5;word-break: keep-all;">
    <span>이 블로그의 모든 포스트는 Notion 데이터베이스를 자동 변환하여 작성 되었습니다.</span><br />
    <span>따라서 문서에 따라 깨져 보일 수 있습니다.</span><br />
    <span>더 많은 내용이 궁금하시다면 👀</span> <a href="https://www.notion.so/croot-dev/6c50e956396b41449b42a8e134d97c4e" target="_blank" style="margin-top:12px;z-index:1">Notion 보러가기</a>
  </p>
</div>

</div>

<article class="c-article">
  <header class="c-article__header">
    <h1 class="c-article__title">Release의 모든 것 서적정리</h1>
    <!-- <p class="c-article__time"><time datetime="2024-03-25T00:00:00+09:00" itemprop="datePublished">Mar 25, 2024</time></p> -->
  </header>

  <div class="c-article__info">
    <table>
      <tbody>
        <tr>
          <th>작성일</th><td>2024년 03월 25일</td>
        </tr>
        <tr>
          <th>수정일</th><td>2024년 06월 28일</td>
        </tr>
        <tr>
          <th>카테고리</th><td>취미</td>
        </tr>
        <tr>
          <th>태그</th><td>
            <ul class="c-tags">
              
            </ul>
          </td>
        </tr>
        
      </tbody>
    </table>
  </div>

  <div class="c-article__main">
    <p><img src="/assets/img/2024-03-25-Release의-모든-것-서적정리.md/0.png" alt="0" /><em>Untitled.jpeg</em></p>

<p><a href="https://product.kyobobook.co.kr/detail/S000211502257">bookmark</a></p>

<h2 id="시스템-안정화">시스템 안정화</h2>

<p>엔터프라이즈 소프트웨어는 냉소적이여야한다.</p>

<p>안정성(stablility)을 얻기 위해 반드시 많은 비용이 들지는 않지만, 안정성이 부실하면 상당한 비용이 발생한다.</p>

<p>아키텍처 수립, 설계, 세부 시스템 구현 할 때 많은 의사 결정 시점이 시스템의 안정성에 영향을 미친다.</p>

<h3 id="안정성의-정의">안정성의 정의</h3>

<p>일시적 충격(impulse), 영구적 변형력(stress), 구성요소의 장애가 정상처리를 방해하더라도 계속 트랜잭션을 처리하는 성질.</p>

<h3 id="수명-연장">수명 연장</h3>

<p>시스템 장애 주요 원인은 <strong>메모리 누수</strong>, <strong>데이터 증가</strong> 이며 테스트 중에는 잘 드러나지 않음.</p>

<p>이러한 버그는 개발환경, 부하테스트 등에서도 잡히지 않는다.</p>

<p>따라서 자체 장기 안정성 테스트를 시행</p>

<ul>
  <li>개발용 컴퓨터를 두어 JMeter, 마라톤, 그 외 부하테스트 도구를 이용하여 지속적으로 요청을 발생시킴.</li>
</ul>

<h3 id="장애-모드failure-mode">장애 모드(failure mode)</h3>

<p>피해 결과를 포함하여 원래의 계기와 균열이 다른 시스템으로 퍼져가는 것을 의미.</p>

<p>시스템의 필수 기능을 결정, 균열 차단기(crackstopper)를 구축하여 복원탄력성(resiliance)를 확보.</p>

<h3 id="균열-확산-차단">균열 확산 차단</h3>

<p>항공사의 장애 모드 적용 예시.</p>

<ul>
  <li>자원 Pool에서 자원이 없을 경우 요청 Thread를 Block하도록 구성됨. ⇒ 모든 Thread 정지됨.</li>
  <li>RMI(Remote Method Invocation) 호출의 시간 제한이 없음.</li>
  <li>CF 서버들을 서비스 그룹으로 묶지 않음. ⇒ 균열 확산</li>
  <li>아키텍처 문제로는 요청/응답 메시지 큐를 사용하지 않음.</li>
</ul>

<h3 id="장애-사슬">장애 사슬</h3>

<p>모든 시스템 장애는 연쇄적으로  발생</p>

<p>결함 발생 ⇒ 균열 생성 ⇒ 결함의 오류가 됨 ⇒ 장애 발생</p>

<p>강한 결합은 균열을 가속화 함.</p>

<p>결함 다루는 방식은 두 가지의 진영이 존재</p>

<ul>
  <li>A: 결함에 잘 견딜 수 있도록 만든다. 예외 처리하여 결함이 오류가 되지 않도록 방지.</li>
  <li>B: 결함을 견디게 만든다는 목표는 무의미함. 결함은 언제 어디서든 발생함.</li>
</ul>

<p>두 진영의 공동 목표는 <u>**결함은 결코 완벽한 방지가 불가능하며 결함이 오류가 되지 않도록 막아야 함**</u></p>

<h2 id="안정성-안티-패턴">안정성 안티 패턴</h2>

<h3 id="소프트웨어의-위기">소프트웨어의 위기</h3>

<p>하드웨어, 언어, 오픈소스 라이브러리 등 소프트웨어의 폭발적인 발전이 있었지만,</p>

<p>자원과 애플리케이션의 도달 범위 또한 폭발적으로 증가하며 요구 신뢰성도 증가함.</p>

<p>시스템 간 긴밀한 결합이 많아지고 고도의 상호 작용 복잡성이 발생함.</p>

<p>이러한 강한 결합은 한 부분의 균열이 시스템 경계를 넘어 확산되도록 한다.</p>

<h3 id="통합-지점">통합 지점</h3>

<p>통합 지점은 시스템에서 가장 문제가 많은 부분.</p>

<p>Context Diagram 유형</p>

<ul>
  <li>나비 패턴 : Monolith</li>
  <li>거미줄 패턴</li>
</ul>

<p>예시</p>

<ul>
  <li>Socket 프로토콜: 호출 Block을 방지하기 위해 소켓 제한 시간을 설정해야 함.</li>
  <li>HTTP 프로토콜: Timeout과 응답 처리를 정밀하게 제어할 수 있는 클라이언트 라이브러리 사용.</li>
</ul>

<p>통합 지점 대응책</p>

<ul>
  <li>Circuit Breaker 와 Decoupling middleware 이용.</li>
  <li>테스트 활용: 부하 + 테스트 하네스,</li>
</ul>

<p>요점</p>

<ul>
  <li>통합 지점은 필요악</li>
  <li>다양한 형태의 장애에 대비</li>
  <li>언제 추상 계층 속을 들여다봐야 할지 파악</li>
  <li>장애는 신속하게 전파됨</li>
  <li>패턴을 적용하여 통합 지점의 문제를 방지</li>
</ul>

<h3 id="연쇄-반응">연쇄 반응</h3>

<p>수평 확장 (Farm, Cluster) 아키텍처는 다중화로 내결함성(FT)을 확보하지만,</p>

<p>부하가 발생 시 메모리 누수, 동시성 버그가 빈번하게 일어남.</p>

<p>나아가서 Thead가 Block 되어 응답하지 못할 때 연계 장애를 유발 가능.</p>

<p>요점</p>

<ul>
  <li>서버 하나가 멈추면 나머지 서버도 위험에 빠질 수 있다.</li>
  <li>자원 누수 확인</li>
  <li>시간 관련 버그 픽스</li>
  <li>Autoscaling 을 이용</li>
  <li>격벽(bulkhead)으로 방어</li>
</ul>

<h3 id="연계-장애">연계 장애</h3>

<p>하위 계층의 장애로 자원 풀이 소진되어 발생 ⇒ 통합지점에 Timeout을 설정 필요</p>

<p>요점</p>

<ul>
  <li>간극을 뛰어넘는 균열을 차단</li>
  <li>자원 풀을 꼼꼼히 살펴라</li>
  <li>Timeout과 Circuit Breaker를 이용</li>
</ul>

<h3 id="사용자">사용자</h3>

<p>트래픽</p>

<ul>
  <li>Capacity를 넘는 트래픽을 방지하기 위해 Auto-scaling을 이용함, 버그로 인한 많은 비용 발생 우려</li>
  <li>세션(사용자)은 메모리를 소비하며 장애에도 메모리를 차지함으로 가능한 작게 유지</li>
  <li><code class="language-plaintext highlighter-rouge">WeakReference</code>를 사용하면 메모리 상황에 따라 GC 가능</li>
  <li>Memcached, Redis 등을 이용하여 세션 데이터를 보관</li>
  <li>Socket <code class="language-plaintext highlighter-rouge">TIME_WAIT</code>를 낮추어 메모리의 빠른 회수</li>
</ul>

<p>서비스 비용</p>

<ul>
  <li>비용이 높은 트랜잭션을 이용하여 공격적인 테스트를 통해 처리 능력 계획</li>
</ul>

<p>비정상 활동 사용자</p>

<ul>
  <li></li>
</ul>

<p>요점</p>

<ul>
  <li>사용자는 메모리를 소비한다</li>
  <li>사용자는 예상할 수 없는 이상한 일을 한다.</li>
  <li>악의적인 사용자 존재</li>
  <li>사용자들의 공격</li>
</ul>

  </div>

  <div class="c-article__comment">
    <script src="https://utteranc.es/client.js"
        repo="croot-dev/croot-dev.github.io"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
  </div>


  <!-- Previous / Next Buttons -->
  <div class="pagenav">
    
    <div class="wrapper" id="left">
      <small><b>Previous</b> Mar 19, 2024</small>
      <br>
      <a class="no-hov" href="/%EA%B8%B0%EC%88%A0/2024/03/19/Proxy%EC%99%80-Reflect/">&laquo; Proxy와 Reflect</a>
    </div>
    
    
    <div class="wrapper" id="right">
      <small>Apr 9, 2024 <b>Next</b></small>
      <br>
      <a class="no-hov" href="/%EA%B8%B0%EC%88%A0/2024/04/09/Git-Merge-%EC%A0%84%EB%9E%B5/">Git Merge 전략 &raquo;</a>
    </div>
    
  </div>
  <!-- Disqus comments view -->
  
</article>

  </div>
  <footer class="c-page__footer">
  <p>&copy; croot-dev.github.io 2026</p>
  <p><a href="https://github.com/croot-dev">Github</a></p>
</footer>

</div>

    </main>
    
  </body>
</html>
