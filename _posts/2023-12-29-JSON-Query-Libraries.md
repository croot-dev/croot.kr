---
layout: post
title: "JSON Query Libraries"
created: 2023-12-29
edited: 2024-08-03
category: [ê¸°ìˆ ]
tags: []
---


ê°œì¸ í”„ë¡œì íŠ¸ ì¤‘ JSON ë°ì´í„° ì¿¼ë¦¬ ì¡°íšŒê°€ í•„ìš”í•´ì„œ ì°¾ì•„ë³´ì•˜ë‹¤.


## ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹„êµ


### npm ë‹¤ìš´ë¡œë“œ ë¹„êµ


[https://npmtrends.com/JSONPath-vs-jmespath-vs-jq-vs-json-path-vs-json-query-vs-jsonpath-vs-jsonpath-plus](https://npmtrends.com/JSONPath-vs-jmespath-vs-jq-vs-json-path-vs-json-query-vs-jsonpath-vs-jsonpath-plus)


![0](/assets/img/2023-12-29-JSON-Query-Libraries.md/0.png)_Untitled.png_


### ì„±ëŠ¥ ë¹„êµ ê²€ì¦


ì¿¼ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„±ëŠ¥ì„ ë¹„êµí•œ í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤. [**Json Querying Performance Testing**](https://github.com/andykais/json-querying-performance-testing)


í•˜ì§€ë§Œ 4ë…„ ì „ì— ì‘ì„±í•œ ê²ƒìœ¼ë¡œ ê° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì´ ë‚®ì•„ ìµœì‹ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í›„ ë¹„êµí•´ë³´ì•˜ë‹¤.


<div class="callout" style="display:flex;width:100%;border-radius:4px;background:rgb(241,241,239);padding: 16px 16px 16px 12px;">
<div style="display:flex;align-items:center;justify-content:center;height:24px;width:24px;border-radius:0.25em;flex-shrink:0;">ğŸ’¡</div>
<div style="white-space:pre-wrap;word-break:break-word;caret-color:rgb(55, 53, 47);margin-left:8px;padding-left:2px;padding-right:2px;">ì „ì²´ ì„±ëŠ¥ ë¹„êµ ì½”ë“œëŠ” ì•„ë˜ Githubì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
</div>


> ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” ê° ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì„¸ê°€ì§€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

	- `shallow`Â returns an object inside an array
	- `deep`Â returns a string from the object inside the array
	- `conditional`Â filters the results based on which lots have an 'UNKNOWN' street name, then returns an array of coordinates from inside the object

```markdown
# summary

## smallCityLots
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      (index)      â”‚      shallow      â”‚       deep        â”‚    conditional    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     jmespath      â”‚      0.0445       â”‚      0.0299       â”‚      0.0375       â”‚
â”‚    json-query     â”‚      0.0196       â”‚      0.0301       â”‚      0.0186       â”‚
â”‚   jsonpath-plus   â”‚      0.4228       â”‚      0.3999       â”‚      0.1292       â”‚
â”‚     jsonpath      â”‚      1.4185       â”‚      10.9563      â”‚       0.028       â”‚
â”‚ map-filter-reduce â”‚ 'not implemented' â”‚ 'not implemented' â”‚ 'not implemented' â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
## mediumCityLots
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      (index)      â”‚      shallow      â”‚       deep        â”‚    conditional    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     jmespath      â”‚      0.0375       â”‚      0.0192       â”‚      0.0263       â”‚
â”‚    json-query     â”‚      0.0505       â”‚      0.0584       â”‚      0.0469       â”‚
â”‚   jsonpath-plus   â”‚      1.1017       â”‚      0.8726       â”‚      0.2504       â”‚
â”‚     jsonpath      â”‚      3.2803       â”‚      42.4674      â”‚       0.051       â”‚
â”‚ map-filter-reduce â”‚ 'not implemented' â”‚ 'not implemented' â”‚ 'not implemented' â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
## largeCityLots
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      (index)      â”‚      shallow      â”‚       deep        â”‚    conditional    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     jmespath      â”‚      0.0178       â”‚       0.031       â”‚      0.0474       â”‚
â”‚    json-query     â”‚     'failed'      â”‚     'failed'      â”‚     'failed'      â”‚
â”‚   jsonpath-plus   â”‚      2.2324       â”‚      2.3612       â”‚      0.4997       â”‚
â”‚     jsonpath      â”‚      9.1876       â”‚     172.0668      â”‚      0.1204       â”‚
â”‚ map-filter-reduce â”‚ 'not implemented' â”‚ 'not implemented' â”‚ 'not implemented' â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


ê²°ë¡ ì ìœ¼ë¡œ `jmespath` ê°€ ê°€ì¥ ì„±ëŠ¥ì´ ì¢‹ì€ ê²°ê³¼ê°€ ë‚˜ì™”ë‹¤. 


## jmespath 


íŒŒì´ì¬ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” JSON ì¿¼ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.


### ê³µì‹í˜ì´ì§€


[https://jmespath.org/](https://jmespath.org/)


### ë¬¸ë²•

1. **í”„ë¡œì ì…˜ (Projection):**
	- ë¬¸ë²•: `field`
	- ì˜ˆì‹œ: `name`ì€ JSON ë¬¸ì„œì—ì„œ `name` í•„ë“œì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
2. **ë‹¤ì¤‘ ìˆ˜ì¤€ í”„ë¡œì ì…˜:**
	- ë¬¸ë²•: `field.subfield`
	- ì˜ˆì‹œ: `person.name`ì€ `person` ê°ì²´ì˜ `name` í•„ë“œì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
3. **ì™€ì¼ë“œì¹´ë“œ (Wildcards):**
	- ë¬¸ë²•:
	- ì˜ˆì‹œ: `people[*].name`ì€ `people` ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œì˜ `name` í•„ë“œ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
4. **í•„í„°ë§ (Filtering):**
	- ë¬¸ë²•: `[?expression]`
	- ì˜ˆì‹œ: `people[?age > 21].name`ì€ `people` ë°°ì—´ì—ì„œ `age`ê°€ 21ë³´ë‹¤ í° ìš”ì†Œì˜ `name` ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
5. **ë‚´ì¥ í•¨ìˆ˜ í™œìš©:**
	- ë¬¸ë²•: `function(arguments)`
	- ì˜ˆì‹œ: `length(people)`ëŠ” `people` ë°°ì—´ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
6. **í…Œì´ë¸” ìŠ¬ë¼ì´ì‹±:**
	- ë¬¸ë²•: `[start:end]`
	- ì˜ˆì‹œ: `people[1:3]`ëŠ” `people` ë°°ì—´ì—ì„œ ë‘ ë²ˆì§¸ë¶€í„° ì„¸ ë²ˆì§¸ê¹Œì§€ì˜ ìš”ì†Œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
7. **ì •ë ¬ ë° ë¦¬ë²„ìŠ¤:**
	- ë¬¸ë²•: `sort_by(@, &field)` ë˜ëŠ” `reverse(@)`
	- ì˜ˆì‹œ: `sort_by(people, &age)`ëŠ” `age` í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ `people` ë°°ì—´ì„ ì •ë ¬í•©ë‹ˆë‹¤.

## jsonpath-plus


### ê³µì‹í˜ì´ì§€


[https://jsonpath-plus.github.io/JSONPath/docs/ts/index.html](https://jsonpath-plus.github.io/JSONPath/docs/ts/index.html)


### ë¬¸ë²•

1. **í”„ë¡œì ì…˜ (Projection):**
	- ë¬¸ë²•: `$.field`
	- ì˜ˆì‹œ: `$.name`ì€ JSON ë¬¸ì„œì—ì„œ ìµœìƒìœ„ ìˆ˜ì¤€ì˜ `name` í•„ë“œì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
2. **ë‹¤ì¤‘ ìˆ˜ì¤€ í”„ë¡œì ì…˜:**
	- ë¬¸ë²•: `$.field.subfield`
	- ì˜ˆì‹œ: `$.person.name`ì€ `person` ê°ì²´ì˜ `name` í•„ë“œì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
3. **ì™€ì¼ë“œì¹´ë“œ (Wildcards):**
	- ë¬¸ë²•: `$.*` ë˜ëŠ” `$[*]`
	- ì˜ˆì‹œ: `$.*.name`ì€ ëª¨ë“  ê°ì²´ì˜ `name` í•„ë“œ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
4. **í•„í„°ë§ (Filtering):**
	- ë¬¸ë²•: `$.field[?expression]`
	- ì˜ˆì‹œ: `$.people[?(@.age > 21)].name`ì€ `people` ë°°ì—´ì—ì„œ `age`ê°€ 21ë³´ë‹¤ í° ìš”ì†Œì˜ `name` ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
5. **ë‚´ì¥ í•¨ìˆ˜ í™œìš©:**
	- ë¬¸ë²•: `$.function(arguments)`
	- ì˜ˆì‹œ: `$.length($.people)`ëŠ” `people` ë°°ì—´ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
6. **í…Œì´ë¸” ìŠ¬ë¼ì´ì‹±:**
	- ë¬¸ë²•: `$.field[start:end]`
	- ì˜ˆì‹œ: `$.people[1:3]`ëŠ” `people` ë°°ì—´ì—ì„œ ë‘ ë²ˆì§¸ë¶€í„° ì„¸ ë²ˆì§¸ê¹Œì§€ì˜ ìš”ì†Œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
7. **ì •ë ¬ ë° ë¦¬ë²„ìŠ¤:**
	- ë¬¸ë²•: `$..field | sort` ë˜ëŠ” `$..field | reverse`
	- ì˜ˆì‹œ: `$..age | sort`ëŠ” `age` í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°°ì—´ì„ ì •ë ¬í•©ë‹ˆë‹¤.
