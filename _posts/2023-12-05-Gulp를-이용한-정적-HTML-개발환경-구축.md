---
layout: post
title: "Gulpë¥¼ ì´ìš©í•œ ì •ì  HTML ê°œë°œí™˜ê²½ êµ¬ì¶•"
created: 2023-12-05
edited: 2026-01-10
category: [ê¸°ìˆ ]
tags: [DevOps:rgb(253 236 200):rgb(64 44 27)]
notion_id: cac1e70c-c47d-4eb1-8705-e1a6460a5667
---


ì •ì  HTML í˜ì´ì§€ë¥¼ ê°œë°œí•  ì¼ì´ ìƒê²¨ì„œ 7ë…„ë§Œì— ë‹¤ì‹œ gulpë¥¼ ì°¾ì•„ë³´ì•˜ë‹¤.


ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ê±°ëŠ” Node6 ê¸°ë°˜ì´ê³  ë„ˆë¬´ ì˜¤ë˜ë˜ì–´ì„œ ëª»ì“¸ ê²ƒ ê°™ì•„ì„œ ê°€ë³ê²Œ ë‹¤ì‹œ ì‘ì„±í•´ë³´ì•˜ë‹¤.


<div class="callout" style="display:flex;width:100%;border-radius:4px;background:rgb(241,241,239);padding: 16px 16px 16px 12px;">
<div style="display:flex;align-items:center;justify-content:center;height:24px;width:24px;border-radius:0.25em;flex-shrink:0;">ğŸ’¡</div>
<div style="white-space:pre-wrap;word-break:break-word;caret-color:rgb(55, 53, 47);margin-left:8px;padding-left:2px;padding-right:2px;">ì „ì²´ ìƒ˜í”Œ ì½”ë“œëŠ” ì•„ë˜ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.<br /><a href="https://github.com/croot-dev/gulp-sample" target="_blank">https://github.com/croot-dev/gulp-sample</a></div>
</div>


## 1. í”„ë¡œì íŠ¸ í´ë” ìƒì„±


```shell
mkdir myproject && cd myproject
```


## 2. package.json ìƒì„±


```shell
yarn init
yarn init v1.22.19
question name: 
question version (1.0.0): 
question description: 
question entry point: 
question repository url: 
question author: 
question license:
question private:
success Saved package.json
âœ¨  Done in 28.52s.
yarn add gulp gulp-clean gulp-file-include browser-sync -D
```


## 3. í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° (ìƒ˜í”Œ ì˜ˆì‹œ)


```markdown
src/
 |- includes/
 |- |- head.html
 |- |- header.html
 |- `- footer.html
 |- scss/
 |- `- main.scss
 |- pages/
 |- `- index.html
 `-assets/
   `- scripts/
      `- jquery.js
```


## 3. Gulpfile.js ì‘ì„±


```javascript
// Gulpfile.js

const gulp = require('gulp');
const include = require('gulp-file-include');
const server = require('browser-sync').create();
const { watch, series } = require('gulp');

// ê²½ë¡œ ìƒìˆ˜ ì„ ì–¸.
const PATH = {
    SRC: './src',
    SRC_HTML: './src/pages/**/*.html',
    SRC_ASSETS: `./src/assets/**/*`,
    DIST: './dist'
}

// ì •ì  ë¦¬ì†ŒìŠ¤ íŒŒì¼ ë³µì‚¬.
async function buildAssets() {
  gulp.src([PATH.SRC_ASSETS])
    .pipe(gulp.dest(PATH.DIST));
}

// HTML íŒŒì¼ include ì ìš©.
async function buildHTML() {
  gulp.src([PATH.SRC_HTML])
        // include partials
        .pipe(include({
          prefix: '@',
          basepath: 'src/includes'
        }))
        .pipe(gulp.dest(PATH.DIST));
}

// ë¡œì»¬ ì„œë²„ ìë™ ë¦¬ë¡œë“œ.
async function reload() {
  server.reload();
}

exports.default = async function() {
  buildHTML();
  buildAssets();
  
  server.init({
    server: {
      baseDir: PATH.DIST
    }
  });

  // ë³€ê²½ ê°ì§€ ì‹œ ë§ˆë‹¤ ìë™ìœ¼ë¡œ ì¬ì‹¤í–‰.
  watch([`${PATH.SRC}/**/*`], series(buildHTML, buildAssets, reload));
};

// clean directories
const clean = require('gulp-clean');
exports.clean = function () {
  return gulp.src([PATH.DIST], { read: false, allowEmpty: true })
  .pipe(clean());
}

```


## 4. ì‹¤í–‰


```shell
# ì‘ì„± Task ì‹¤í–‰
yarn gulp

# ì‚°ì¶œ í´ë” ì œê±° ì‹¤í–‰ ì‹œ
yarn gulp clean
```


## + SCSS ì‚¬ìš© í™˜ê²½ ì¶”ê°€


```shell
yarn add -D sass gulp-sass
```


### SCSS ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ ëœ Gulpfile.js


```javascript
// Gulpfile.js

const gulp = require('gulp');
const include = require('gulp-file-include');
const server = require('browser-sync').create();
const { watch, series } = require('gulp');

// ê²½ë¡œ ìƒìˆ˜ ì„ ì–¸.
const PATH = {
    SRC: './src',
    SRC_HTML: './src/pages/**/*.html',
    SRC_ASSETS: `./src/assets/**/*`,
    DIST: './dist'
}

// ì •ì  ë¦¬ì†ŒìŠ¤ íŒŒì¼ ë³µì‚¬.
async function buildAssets() {
  gulp.src([PATH.SRC_ASSETS])
    .pipe(gulp.dest(PATH.DIST));
}

// HTML íŒŒì¼ include ì ìš©.
async function buildHTML() {
  gulp.src([PATH.SRC_HTML])
        // include partials
        .pipe(include({
          prefix: '@',
          basepath: 'src/includes'
        }))
        .pipe(gulp.dest(PATH.DIST));
}

// ë¡œì»¬ ì„œë²„ ìë™ ë¦¬ë¡œë“œ.
async function reload() {
  server.reload();
}

exports.default = async function() {
  buildHTML();
  buildAssets();
/***********
 ** ADDED **
 **********/
	buildStyles();
  
  server.init({
    server: {
      baseDir: PATH.DIST
    }
  });

  // ë³€ê²½ ê°ì§€ ì‹œ ë§ˆë‹¤ ìë™ìœ¼ë¡œ ì¬ì‹¤í–‰.
/***********
 ** ADDED **
 **********/
  watch([`${PATH.SRC}/**/*`], series(buildHTML, buildStyles, buildAssets, reload));
};

// clean directories
const clean = require('gulp-clean');
exports.clean = function () {
  return gulp.src([PATH.DIST], { read: false, allowEmpty: true })
  .pipe(clean());
}

/***********
 ** ADDED **
 **********/
// build sass
const sass = require('gulp-sass')(require('sass'));
exports.buildStyles = buildStyles;
```


REF: [https://dev.to/caiojhonny/html-includes-with-gulp-js-2def](https://dev.to/caiojhonny/html-includes-with-gulp-js-2def)

